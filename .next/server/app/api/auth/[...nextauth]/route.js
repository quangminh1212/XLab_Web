/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/[...nextauth]/route";
exports.ids = ["app/api/auth/[...nextauth]/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=C%3A%5CVF%5CXLab_Web%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CVF%5CXLab_Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=C%3A%5CVF%5CXLab_Web%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CVF%5CXLab_Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_VF_XLab_Web_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/auth/[...nextauth]/route.ts */ \"(rsc)/./src/app/api/auth/[...nextauth]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/[...nextauth]/route\"\n    },\n    resolvedPagePath: \"C:\\\\VF\\\\XLab_Web\\\\src\\\\app\\\\api\\\\auth\\\\[...nextauth]\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_VF_XLab_Web_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVkYlNUNYTGFiX1dlYiU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1ZGJTVDWExhYl9XZWImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ2M7QUFDM0Y7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFZGXFxcXFhMYWJfV2ViXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGF1dGhcXFxcWy4uLm5leHRhdXRoXVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxWRlxcXFxYTGFiX1dlYlxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXFsuLi5uZXh0YXV0aF1cXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=C%3A%5CVF%5CXLab_Web%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CVF%5CXLab_Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/auth/[...nextauth]/route.ts":
/*!*************************************************!*\
  !*** ./src/app/api/auth/[...nextauth]/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler),\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n\n\n// Đảm bảo NEXTAUTH_URL được đặt\nconst NEXTAUTH_URL = process.env.NEXTAUTH_URL || 'http://localhost:3000';\n// Không bật debug trong môi trường production\nconst DEBUG_ENABLED = \"development\" === 'development';\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID || \"909905227025-qtk1u8jr6qj93qg9hu99qfrh27rtd2np.apps.googleusercontent.com\",\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"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\",\n            authorization: {\n                params: {\n                    prompt: \"select_account\",\n                    access_type: \"offline\",\n                    response_type: \"code\",\n                    scope: \"openid email profile\"\n                }\n            },\n            profile (profile) {\n                console.log('Google profile from provider:', profile);\n                return {\n                    id: profile.sub,\n                    name: profile.name,\n                    email: profile.email,\n                    image: profile.picture\n                };\n            }\n        })\n    ],\n    pages: {\n        signIn: \"/login\",\n        error: \"/auth/error\",\n        signOut: \"/\"\n    },\n    callbacks: {\n        async session ({ session, token }) {\n            console.log('Session callback - Session before:', JSON.stringify(session));\n            console.log('Session callback - Token:', JSON.stringify(token));\n            if (token && session.user) {\n                session.user.id = token.id;\n                if (token.customName) session.user.customName = token.customName;\n                if (token.phone) session.user.phone = token.phone;\n                if (token.memberSince) session.user.memberSince = token.memberSince;\n                if (token.isAdmin) session.user.isAdmin = Boolean(token.isAdmin);\n                // Truyền thông tin hình ảnh từ token sang session\n                if (token.picture) {\n                    session.user.image = token.picture;\n                    console.log(`Setting image in session: ${token.picture}`);\n                }\n                // Truyền thông tin tên từ token sang session nếu không phải tên tùy chỉnh\n                if (!token.customName && token.name) {\n                    session.user.name = token.name;\n                    console.log(`Setting name in session: ${token.name}`);\n                }\n                console.log('Session callback - Session after processing:', {\n                    id: session.user.id,\n                    name: session.user.name,\n                    email: session.user.email,\n                    image: session.user.image,\n                    isAdmin: session.user.isAdmin\n                });\n                if (token.customName && token.name) {\n                    session.user.name = token.name;\n                }\n            }\n            return session;\n        },\n        async jwt ({ token, user, account, trigger, session }) {\n            if (user && account) {\n                console.log('JWT callback - User:', JSON.stringify(user));\n                console.log('JWT callback - Account:', JSON.stringify(account));\n                token.id = user.id;\n                token.provider = account.provider;\n                if (user.email) {\n                    token.email = user.email;\n                }\n                // Lưu tên và hình ảnh từ tài khoản Google\n                if (user.name) {\n                    token.name = user.name;\n                    console.log(`Setting user name to token: ${user.name}`);\n                }\n                if (user.image) {\n                    token.picture = user.image;\n                    console.log(`Setting user image to token: ${user.image}`);\n                }\n                if (token.email === 'xlab.rnd@gmail.com') {\n                    console.log('Setting admin rights for', token.email);\n                    token.isAdmin = true;\n                } else {\n                    token.isAdmin = false;\n                }\n                if (!token.memberSince) {\n                    const today = new Date();\n                    token.memberSince = `${String(today.getDate()).padStart(2, '0')}/${String(today.getMonth() + 1).padStart(2, '0')}/${today.getFullYear()}`;\n                }\n            }\n            // Đảm bảo email hiện tại trong token vẫn được kiểm tra admin\n            // Trong trường hợp token.isAdmin chưa được thiết lập\n            if (token.email === 'xlab.rnd@gmail.com' && token.isAdmin === undefined) {\n                console.log('Re-setting admin rights for', token.email);\n                token.isAdmin = true;\n            }\n            console.log('JWT token data FULL:', token);\n            console.log('JWT token data:', {\n                id: token.id,\n                name: token.name,\n                email: token.email,\n                picture: token.picture,\n                isAdmin: token.isAdmin\n            });\n            if (trigger === \"update\" && session) {\n                if (session.name) {\n                    token.name = session.name;\n                    token.customName = true;\n                }\n                if (session.phone) token.phone = session.phone;\n            }\n            return token;\n        },\n        async signIn ({ user, account, profile, email, credentials }) {\n            console.log('Sign in callback executed', {\n                provider: account?.provider,\n                profile: profile,\n                user: user\n            });\n            if (account?.provider === \"google\" && profile?.email) {\n                return true;\n            }\n            return false;\n        },\n        async redirect ({ url, baseUrl }) {\n            console.log('Redirect callback executed', {\n                url,\n                baseUrl\n            });\n            // Xử lý chuyển hướng sau khi đăng nhập\n            if (url.startsWith(baseUrl)) {\n                if (url.includes('/api/auth/signin') || url.includes('/api/auth/callback')) {\n                    return `${baseUrl}/`;\n                }\n                return url;\n            } else if (url.startsWith('/')) {\n                return `${baseUrl}${url}`;\n            }\n            return baseUrl;\n        }\n    },\n    events: {\n        async signIn (message) {\n            console.log('User signed in event', message);\n        },\n        async signOut (message) {\n            console.log('User signed out event', message);\n        },\n        async session (message) {\n            console.log('Session accessed event', message);\n        }\n    },\n    debug: DEBUG_ENABLED,\n    secret: process.env.NEXTAUTH_SECRET || \"voZ7iiSzvDrGjrG0m0qkkw60XkANsAg9xf/rGiA4bfA=\",\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    // Sửa cấu hình cookie để đảm bảo hoạt động đúng với Google\n    cookies: {\n        sessionToken: {\n            name:  false ? 0 : `next-auth.session-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: \"development\" === \"production\",\n                maxAge: 30 * 24 * 60 * 60 // 30 days\n            }\n        },\n        callbackUrl: {\n            name:  false ? 0 : `next-auth.callback-url`,\n            options: {\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: \"development\" === \"production\"\n            }\n        },\n        csrfToken: {\n            name:  false ? 0 : `next-auth.csrf-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: \"development\" === \"production\"\n            }\n        }\n    },\n    jwt: {\n        maxAge: 60 * 60 * 24 * 30\n    }\n};\nconst handler = next_auth__WEBPACK_IMPORTED_MODULE_0___default()(authOptions);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNEO0FBQ0U7QUFxQnhELGdDQUFnQztBQUNoQyxNQUFNRSxlQUFlQyxRQUFRQyxHQUFHLENBQUNGLFlBQVksSUFBSTtBQUNqRCw4Q0FBOEM7QUFDOUMsTUFBTUcsZ0JBQWdCRixrQkFBeUI7QUFFeEMsTUFBTUcsY0FBK0I7SUFDMUNDLFdBQVc7UUFDVE4sc0VBQWNBLENBQUM7WUFDYk8sVUFBVUwsUUFBUUMsR0FBRyxDQUFDSyxnQkFBZ0IsSUFBSTtZQUMxQ0MsY0FBY1AsUUFBUUMsR0FBRyxDQUFDTyxvQkFBb0IsSUFBSTtZQUNsREMsZUFBZTtnQkFDYkMsUUFBUTtvQkFDTkMsUUFBUTtvQkFDUkMsYUFBYTtvQkFDYkMsZUFBZTtvQkFDZkMsT0FBTztnQkFDVDtZQUNGO1lBQ0FDLFNBQVFBLE9BQU87Z0JBQ2JDLFFBQVFDLEdBQUcsQ0FBQyxpQ0FBaUNGO2dCQUM3QyxPQUFPO29CQUNMRyxJQUFJSCxRQUFRSSxHQUFHO29CQUNmQyxNQUFNTCxRQUFRSyxJQUFJO29CQUNsQkMsT0FBT04sUUFBUU0sS0FBSztvQkFDcEJDLE9BQU9QLFFBQVFRLE9BQU87Z0JBQ3hCO1lBQ0Y7UUFDRjtLQUNEO0lBQ0RDLE9BQU87UUFDTEMsUUFBUTtRQUNSQyxPQUFPO1FBQ1BDLFNBQVM7SUFDWDtJQUNBQyxXQUFXO1FBQ1QsTUFBTUMsU0FBUSxFQUFFQSxPQUFPLEVBQUVDLEtBQUssRUFBb0M7WUFDaEVkLFFBQVFDLEdBQUcsQ0FBQyxzQ0FBc0NjLEtBQUtDLFNBQVMsQ0FBQ0g7WUFDakViLFFBQVFDLEdBQUcsQ0FBQyw2QkFBNkJjLEtBQUtDLFNBQVMsQ0FBQ0Y7WUFFeEQsSUFBSUEsU0FBU0QsUUFBUUksSUFBSSxFQUFFO2dCQUN6QkosUUFBUUksSUFBSSxDQUFDZixFQUFFLEdBQUdZLE1BQU1aLEVBQUU7Z0JBRTFCLElBQUlZLE1BQU1JLFVBQVUsRUFBRUwsUUFBUUksSUFBSSxDQUFDQyxVQUFVLEdBQUdKLE1BQU1JLFVBQVU7Z0JBQ2hFLElBQUlKLE1BQU1LLEtBQUssRUFBRU4sUUFBUUksSUFBSSxDQUFDRSxLQUFLLEdBQUdMLE1BQU1LLEtBQUs7Z0JBQ2pELElBQUlMLE1BQU1NLFdBQVcsRUFBRVAsUUFBUUksSUFBSSxDQUFDRyxXQUFXLEdBQUdOLE1BQU1NLFdBQVc7Z0JBQ25FLElBQUlOLE1BQU1PLE9BQU8sRUFBRVIsUUFBUUksSUFBSSxDQUFDSSxPQUFPLEdBQUdDLFFBQVFSLE1BQU1PLE9BQU87Z0JBRS9ELGtEQUFrRDtnQkFDbEQsSUFBSVAsTUFBTVAsT0FBTyxFQUFFO29CQUNqQk0sUUFBUUksSUFBSSxDQUFDWCxLQUFLLEdBQUdRLE1BQU1QLE9BQU87b0JBQ2xDUCxRQUFRQyxHQUFHLENBQUMsQ0FBQywwQkFBMEIsRUFBRWEsTUFBTVAsT0FBTyxFQUFFO2dCQUMxRDtnQkFFQSwwRUFBMEU7Z0JBQzFFLElBQUksQ0FBQ08sTUFBTUksVUFBVSxJQUFJSixNQUFNVixJQUFJLEVBQUU7b0JBQ25DUyxRQUFRSSxJQUFJLENBQUNiLElBQUksR0FBR1UsTUFBTVYsSUFBSTtvQkFDOUJKLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHlCQUF5QixFQUFFYSxNQUFNVixJQUFJLEVBQUU7Z0JBQ3REO2dCQUVBSixRQUFRQyxHQUFHLENBQUMsZ0RBQWdEO29CQUMxREMsSUFBSVcsUUFBUUksSUFBSSxDQUFDZixFQUFFO29CQUNuQkUsTUFBTVMsUUFBUUksSUFBSSxDQUFDYixJQUFJO29CQUN2QkMsT0FBT1EsUUFBUUksSUFBSSxDQUFDWixLQUFLO29CQUN6QkMsT0FBT08sUUFBUUksSUFBSSxDQUFDWCxLQUFLO29CQUN6QmUsU0FBU1IsUUFBUUksSUFBSSxDQUFDSSxPQUFPO2dCQUMvQjtnQkFFQSxJQUFJUCxNQUFNSSxVQUFVLElBQUlKLE1BQU1WLElBQUksRUFBRTtvQkFDbENTLFFBQVFJLElBQUksQ0FBQ2IsSUFBSSxHQUFHVSxNQUFNVixJQUFJO2dCQUNoQztZQUNGO1lBQ0EsT0FBT1M7UUFDVDtRQUNBLE1BQU1VLEtBQUksRUFBRVQsS0FBSyxFQUFFRyxJQUFJLEVBQUVPLE9BQU8sRUFBRUMsT0FBTyxFQUFFWixPQUFPLEVBTWpEO1lBQ0MsSUFBSUksUUFBUU8sU0FBUztnQkFDbkJ4QixRQUFRQyxHQUFHLENBQUMsd0JBQXdCYyxLQUFLQyxTQUFTLENBQUNDO2dCQUNuRGpCLFFBQVFDLEdBQUcsQ0FBQywyQkFBMkJjLEtBQUtDLFNBQVMsQ0FBQ1E7Z0JBRXREVixNQUFNWixFQUFFLEdBQUdlLEtBQUtmLEVBQUU7Z0JBQ2xCWSxNQUFNWSxRQUFRLEdBQUdGLFFBQVFFLFFBQVE7Z0JBRWpDLElBQUlULEtBQUtaLEtBQUssRUFBRTtvQkFDZFMsTUFBTVQsS0FBSyxHQUFHWSxLQUFLWixLQUFLO2dCQUMxQjtnQkFFQSwwQ0FBMEM7Z0JBQzFDLElBQUlZLEtBQUtiLElBQUksRUFBRTtvQkFDYlUsTUFBTVYsSUFBSSxHQUFHYSxLQUFLYixJQUFJO29CQUN0QkosUUFBUUMsR0FBRyxDQUFDLENBQUMsNEJBQTRCLEVBQUVnQixLQUFLYixJQUFJLEVBQUU7Z0JBQ3hEO2dCQUVBLElBQUlhLEtBQUtYLEtBQUssRUFBRTtvQkFDZFEsTUFBTVAsT0FBTyxHQUFHVSxLQUFLWCxLQUFLO29CQUMxQk4sUUFBUUMsR0FBRyxDQUFDLENBQUMsNkJBQTZCLEVBQUVnQixLQUFLWCxLQUFLLEVBQUU7Z0JBQzFEO2dCQUVBLElBQUlRLE1BQU1ULEtBQUssS0FBSyxzQkFBc0I7b0JBQ3hDTCxRQUFRQyxHQUFHLENBQUMsNEJBQTRCYSxNQUFNVCxLQUFLO29CQUNuRFMsTUFBTU8sT0FBTyxHQUFHO2dCQUNsQixPQUFPO29CQUNMUCxNQUFNTyxPQUFPLEdBQUc7Z0JBQ2xCO2dCQUVBLElBQUksQ0FBQ1AsTUFBTU0sV0FBVyxFQUFFO29CQUN0QixNQUFNTyxRQUFRLElBQUlDO29CQUNsQmQsTUFBTU0sV0FBVyxHQUFHLEdBQUdTLE9BQU9GLE1BQU1HLE9BQU8sSUFBSUMsUUFBUSxDQUFDLEdBQUcsS0FBSyxDQUFDLEVBQUVGLE9BQU9GLE1BQU1LLFFBQVEsS0FBSyxHQUFHRCxRQUFRLENBQUMsR0FBRyxLQUFLLENBQUMsRUFBRUosTUFBTU0sV0FBVyxJQUFJO2dCQUMzSTtZQUNGO1lBRUEsNkRBQTZEO1lBQzdELHFEQUFxRDtZQUNyRCxJQUFJbkIsTUFBTVQsS0FBSyxLQUFLLHdCQUF3QlMsTUFBTU8sT0FBTyxLQUFLYSxXQUFXO2dCQUN2RWxDLFFBQVFDLEdBQUcsQ0FBQywrQkFBK0JhLE1BQU1ULEtBQUs7Z0JBQ3REUyxNQUFNTyxPQUFPLEdBQUc7WUFDbEI7WUFFQXJCLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0JhO1lBQ3BDZCxRQUFRQyxHQUFHLENBQUMsbUJBQW1CO2dCQUM3QkMsSUFBSVksTUFBTVosRUFBRTtnQkFDWkUsTUFBTVUsTUFBTVYsSUFBSTtnQkFDaEJDLE9BQU9TLE1BQU1ULEtBQUs7Z0JBQ2xCRSxTQUFTTyxNQUFNUCxPQUFPO2dCQUN0QmMsU0FBU1AsTUFBTU8sT0FBTztZQUN4QjtZQUVBLElBQUlJLFlBQVksWUFBWVosU0FBUztnQkFDbkMsSUFBSUEsUUFBUVQsSUFBSSxFQUFFO29CQUNoQlUsTUFBTVYsSUFBSSxHQUFHUyxRQUFRVCxJQUFJO29CQUN6QlUsTUFBTUksVUFBVSxHQUFHO2dCQUNyQjtnQkFDQSxJQUFJTCxRQUFRTSxLQUFLLEVBQUVMLE1BQU1LLEtBQUssR0FBR04sUUFBUU0sS0FBSztZQUNoRDtZQUVBLE9BQU9MO1FBQ1Q7UUFDQSxNQUFNTCxRQUFPLEVBQUVRLElBQUksRUFBRU8sT0FBTyxFQUFFekIsT0FBTyxFQUFFTSxLQUFLLEVBQUU4QixXQUFXLEVBQUU7WUFDekRuQyxRQUFRQyxHQUFHLENBQUMsNkJBQTZCO2dCQUN2Q3lCLFVBQVVGLFNBQVNFO2dCQUNuQjNCLFNBQVNBO2dCQUNUa0IsTUFBTUE7WUFDUjtZQUNBLElBQUlPLFNBQVNFLGFBQWEsWUFBWTNCLFNBQVNNLE9BQU87Z0JBQ3BELE9BQU87WUFDVDtZQUNBLE9BQU87UUFDVDtRQUNBLE1BQU0rQixVQUFTLEVBQUVDLEdBQUcsRUFBRUMsT0FBTyxFQUFFO1lBQzdCdEMsUUFBUUMsR0FBRyxDQUFDLDhCQUE4QjtnQkFBRW9DO2dCQUFLQztZQUFRO1lBRXpELHVDQUF1QztZQUN2QyxJQUFJRCxJQUFJRSxVQUFVLENBQUNELFVBQVU7Z0JBQzNCLElBQUlELElBQUlHLFFBQVEsQ0FBQyx1QkFBdUJILElBQUlHLFFBQVEsQ0FBQyx1QkFBdUI7b0JBQzFFLE9BQU8sR0FBR0YsUUFBUSxDQUFDLENBQUM7Z0JBQ3RCO2dCQUNBLE9BQU9EO1lBQ1QsT0FBTyxJQUFJQSxJQUFJRSxVQUFVLENBQUMsTUFBTTtnQkFDOUIsT0FBTyxHQUFHRCxVQUFVRCxLQUFLO1lBQzNCO1lBQ0EsT0FBT0M7UUFDVDtJQUNGO0lBQ0FHLFFBQVE7UUFDTixNQUFNaEMsUUFBT2lDLE9BQU87WUFDbEIxQyxRQUFRQyxHQUFHLENBQUMsd0JBQXdCeUM7UUFDdEM7UUFDQSxNQUFNL0IsU0FBUStCLE9BQU87WUFDbkIxQyxRQUFRQyxHQUFHLENBQUMseUJBQXlCeUM7UUFDdkM7UUFDQSxNQUFNN0IsU0FBUTZCLE9BQU87WUFDbkIxQyxRQUFRQyxHQUFHLENBQUMsMEJBQTBCeUM7UUFDeEM7SUFDRjtJQUNBQyxPQUFPekQ7SUFDUDBELFFBQVE1RCxRQUFRQyxHQUFHLENBQUM0RCxlQUFlLElBQUk7SUFDdkNoQyxTQUFTO1FBQ1BpQyxVQUFVO1FBQ1ZDLFFBQVEsS0FBSyxLQUFLLEtBQUs7SUFDekI7SUFDQSwyREFBMkQ7SUFDM0RDLFNBQVM7UUFDUEMsY0FBYztZQUNaN0MsTUFBTXBCLE1BQXFDLEdBQUcsQ0FBa0MsR0FBRyxDQUFDLHVCQUF1QixDQUFDO1lBQzVHa0UsU0FBUztnQkFDUEMsVUFBVTtnQkFDVkMsVUFBVTtnQkFDVkMsTUFBTTtnQkFDTkMsUUFBUXRFLGtCQUF5QjtnQkFDakMrRCxRQUFRLEtBQUssS0FBSyxLQUFLLEdBQUcsVUFBVTtZQUN0QztRQUNGO1FBQ0FRLGFBQWE7WUFDWG5ELE1BQU1wQixNQUFxQyxHQUFHLENBQWlDLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQztZQUMxR2tFLFNBQVM7Z0JBQ1BFLFVBQVU7Z0JBQ1ZDLE1BQU07Z0JBQ05DLFFBQVF0RSxrQkFBeUI7WUFDbkM7UUFDRjtRQUNBd0UsV0FBVztZQUNUcEQsTUFBTXBCLE1BQXFDLEdBQUcsQ0FBNkIsR0FBRyxDQUFDLG9CQUFvQixDQUFDO1lBQ3BHa0UsU0FBUztnQkFDUEMsVUFBVTtnQkFDVkMsVUFBVTtnQkFDVkMsTUFBTTtnQkFDTkMsUUFBUXRFLGtCQUF5QjtZQUNuQztRQUNGO0lBQ0Y7SUFDQXVDLEtBQUs7UUFDSHdCLFFBQVEsS0FBSyxLQUFLLEtBQUs7SUFDekI7QUFDRixFQUFFO0FBRUYsTUFBTVUsVUFBVTVFLGdEQUFRQSxDQUFDTTtBQUVrQiIsInNvdXJjZXMiOlsiQzpcXFZGXFxYTGFiX1dlYlxcc3JjXFxhcHBcXGFwaVxcYXV0aFxcWy4uLm5leHRhdXRoXVxccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE5leHRBdXRoLCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gXCJuZXh0LWF1dGhcIjtcbmltcG9ydCBHb29nbGVQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9nb29nbGVcIjtcbmltcG9ydCB7IEpXVCB9IGZyb20gXCJuZXh0LWF1dGgvand0XCI7XG5pbXBvcnQgeyBTZXNzaW9uIH0gZnJvbSBcIm5leHQtYXV0aFwiO1xuaW1wb3J0IHsgU2Vzc2lvblN0cmF0ZWd5IH0gZnJvbSBcIm5leHQtYXV0aC9jb3JlL3R5cGVzXCI7XG5cbi8vIEV4dGVuZCB0aGUgU2Vzc2lvbiBpbnRlcmZhY2VcbmRlY2xhcmUgbW9kdWxlIFwibmV4dC1hdXRoXCIge1xuICBpbnRlcmZhY2UgU2Vzc2lvbiB7XG4gICAgdXNlcjoge1xuICAgICAgaWQ/OiBzdHJpbmc7XG4gICAgICBuYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgIGVtYWlsPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgIGltYWdlPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgIHBob25lPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgIG1lbWJlclNpbmNlPzogc3RyaW5nIHwgbnVsbDtcbiAgICAgIGN1c3RvbU5hbWU/OiBib29sZWFuO1xuICAgICAgaXNBZG1pbj86IGJvb2xlYW47XG4gICAgfVxuICB9XG59XG5cbi8vIMSQ4bqjbSBi4bqjbyBORVhUQVVUSF9VUkwgxJHGsOG7o2MgxJHhurd0XG5jb25zdCBORVhUQVVUSF9VUkwgPSBwcm9jZXNzLmVudi5ORVhUQVVUSF9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCc7XG4vLyBLaMO0bmcgYuG6rXQgZGVidWcgdHJvbmcgbcO0aSB0csaw4budbmcgcHJvZHVjdGlvblxuY29uc3QgREVCVUdfRU5BQkxFRCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnO1xuXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnM6IE5leHRBdXRoT3B0aW9ucyA9IHtcbiAgcHJvdmlkZXJzOiBbXG4gICAgR29vZ2xlUHJvdmlkZXIoe1xuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfSUQgfHwgXCI5MDk5MDUyMjcwMjUtcXRrMXU4anI2cWo5M3FnOWh1OTlxZnJoMjdydGQybnAuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb21cIixcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9TRUNSRVQgfHwgXCJHT0NTUFgtOTEtWVBwaU9tZEpSV2pHcFBOelRCTDF4UERNbVwiLFxuICAgICAgYXV0aG9yaXphdGlvbjoge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBwcm9tcHQ6IFwic2VsZWN0X2FjY291bnRcIixcbiAgICAgICAgICBhY2Nlc3NfdHlwZTogXCJvZmZsaW5lXCIsXG4gICAgICAgICAgcmVzcG9uc2VfdHlwZTogXCJjb2RlXCIsXG4gICAgICAgICAgc2NvcGU6IFwib3BlbmlkIGVtYWlsIHByb2ZpbGVcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcHJvZmlsZShwcm9maWxlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdHb29nbGUgcHJvZmlsZSBmcm9tIHByb3ZpZGVyOicsIHByb2ZpbGUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBwcm9maWxlLnN1YixcbiAgICAgICAgICBuYW1lOiBwcm9maWxlLm5hbWUsXG4gICAgICAgICAgZW1haWw6IHByb2ZpbGUuZW1haWwsXG4gICAgICAgICAgaW1hZ2U6IHByb2ZpbGUucGljdHVyZSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KSxcbiAgXSxcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46IFwiL2xvZ2luXCIsXG4gICAgZXJyb3I6IFwiL2F1dGgvZXJyb3JcIixcbiAgICBzaWduT3V0OiBcIi9cIixcbiAgfSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH06IHsgc2Vzc2lvbjogU2Vzc2lvbjsgdG9rZW46IEpXVCB9KSB7XG4gICAgICBjb25zb2xlLmxvZygnU2Vzc2lvbiBjYWxsYmFjayAtIFNlc3Npb24gYmVmb3JlOicsIEpTT04uc3RyaW5naWZ5KHNlc3Npb24pKTtcbiAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIGNhbGxiYWNrIC0gVG9rZW46JywgSlNPTi5zdHJpbmdpZnkodG9rZW4pKTtcbiAgICAgIFxuICAgICAgaWYgKHRva2VuICYmIHNlc3Npb24udXNlcikge1xuICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi5pZCBhcyBzdHJpbmc7XG5cbiAgICAgICAgaWYgKHRva2VuLmN1c3RvbU5hbWUpIHNlc3Npb24udXNlci5jdXN0b21OYW1lID0gdG9rZW4uY3VzdG9tTmFtZSBhcyBib29sZWFuO1xuICAgICAgICBpZiAodG9rZW4ucGhvbmUpIHNlc3Npb24udXNlci5waG9uZSA9IHRva2VuLnBob25lIGFzIHN0cmluZztcbiAgICAgICAgaWYgKHRva2VuLm1lbWJlclNpbmNlKSBzZXNzaW9uLnVzZXIubWVtYmVyU2luY2UgPSB0b2tlbi5tZW1iZXJTaW5jZSBhcyBzdHJpbmc7XG4gICAgICAgIGlmICh0b2tlbi5pc0FkbWluKSBzZXNzaW9uLnVzZXIuaXNBZG1pbiA9IEJvb2xlYW4odG9rZW4uaXNBZG1pbik7XG4gICAgICAgIFxuICAgICAgICAvLyBUcnV54buBbiB0aMO0bmcgdGluIGjDrG5oIOG6o25oIHThu6sgdG9rZW4gc2FuZyBzZXNzaW9uXG4gICAgICAgIGlmICh0b2tlbi5waWN0dXJlKSB7XG4gICAgICAgICAgc2Vzc2lvbi51c2VyLmltYWdlID0gdG9rZW4ucGljdHVyZSBhcyBzdHJpbmc7XG4gICAgICAgICAgY29uc29sZS5sb2coYFNldHRpbmcgaW1hZ2UgaW4gc2Vzc2lvbjogJHt0b2tlbi5waWN0dXJlfWApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBUcnV54buBbiB0aMO0bmcgdGluIHTDqm4gdOG7qyB0b2tlbiBzYW5nIHNlc3Npb24gbuG6v3Uga2jDtG5nIHBo4bqjaSB0w6puIHTDuXkgY2jhu4luaFxuICAgICAgICBpZiAoIXRva2VuLmN1c3RvbU5hbWUgJiYgdG9rZW4ubmFtZSkge1xuICAgICAgICAgIHNlc3Npb24udXNlci5uYW1lID0gdG9rZW4ubmFtZSBhcyBzdHJpbmc7XG4gICAgICAgICAgY29uc29sZS5sb2coYFNldHRpbmcgbmFtZSBpbiBzZXNzaW9uOiAke3Rva2VuLm5hbWV9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZygnU2Vzc2lvbiBjYWxsYmFjayAtIFNlc3Npb24gYWZ0ZXIgcHJvY2Vzc2luZzonLCB7XG4gICAgICAgICAgaWQ6IHNlc3Npb24udXNlci5pZCxcbiAgICAgICAgICBuYW1lOiBzZXNzaW9uLnVzZXIubmFtZSxcbiAgICAgICAgICBlbWFpbDogc2Vzc2lvbi51c2VyLmVtYWlsLFxuICAgICAgICAgIGltYWdlOiBzZXNzaW9uLnVzZXIuaW1hZ2UsXG4gICAgICAgICAgaXNBZG1pbjogc2Vzc2lvbi51c2VyLmlzQWRtaW5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRva2VuLmN1c3RvbU5hbWUgJiYgdG9rZW4ubmFtZSkge1xuICAgICAgICAgIHNlc3Npb24udXNlci5uYW1lID0gdG9rZW4ubmFtZSBhcyBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgIH0sXG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIsIGFjY291bnQsIHRyaWdnZXIsIHNlc3Npb24gfToge1xuICAgICAgdG9rZW46IEpXVDtcbiAgICAgIHVzZXI/OiBhbnk7XG4gICAgICBhY2NvdW50PzogYW55O1xuICAgICAgdHJpZ2dlcj86IHN0cmluZztcbiAgICAgIHNlc3Npb24/OiBhbnk7XG4gICAgfSkge1xuICAgICAgaWYgKHVzZXIgJiYgYWNjb3VudCkge1xuICAgICAgICBjb25zb2xlLmxvZygnSldUIGNhbGxiYWNrIC0gVXNlcjonLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdKV1QgY2FsbGJhY2sgLSBBY2NvdW50OicsIEpTT04uc3RyaW5naWZ5KGFjY291bnQpKTtcbiAgICAgICAgXG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZDtcbiAgICAgICAgdG9rZW4ucHJvdmlkZXIgPSBhY2NvdW50LnByb3ZpZGVyO1xuXG4gICAgICAgIGlmICh1c2VyLmVtYWlsKSB7XG4gICAgICAgICAgdG9rZW4uZW1haWwgPSB1c2VyLmVtYWlsO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBMxrB1IHTDqm4gdsOgIGjDrG5oIOG6o25oIHThu6sgdMOgaSBraG/huqNuIEdvb2dsZVxuICAgICAgICBpZiAodXNlci5uYW1lKSB7XG4gICAgICAgICAgdG9rZW4ubmFtZSA9IHVzZXIubmFtZTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU2V0dGluZyB1c2VyIG5hbWUgdG8gdG9rZW46ICR7dXNlci5uYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAodXNlci5pbWFnZSkge1xuICAgICAgICAgIHRva2VuLnBpY3R1cmUgPSB1c2VyLmltYWdlO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBTZXR0aW5nIHVzZXIgaW1hZ2UgdG8gdG9rZW46ICR7dXNlci5pbWFnZX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b2tlbi5lbWFpbCA9PT0gJ3hsYWIucm5kQGdtYWlsLmNvbScpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU2V0dGluZyBhZG1pbiByaWdodHMgZm9yJywgdG9rZW4uZW1haWwpO1xuICAgICAgICAgIHRva2VuLmlzQWRtaW4gPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRva2VuLmlzQWRtaW4gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdG9rZW4ubWVtYmVyU2luY2UpIHtcbiAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgdG9rZW4ubWVtYmVyU2luY2UgPSBgJHtTdHJpbmcodG9kYXkuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpfS8ke1N0cmluZyh0b2RheS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgJzAnKX0vJHt0b2RheS5nZXRGdWxsWWVhcigpfWA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gxJDhuqNtIGLhuqNvIGVtYWlsIGhp4buHbiB04bqhaSB0cm9uZyB0b2tlbiB24bqrbiDEkcaw4bujYyBraeG7g20gdHJhIGFkbWluXG4gICAgICAvLyBUcm9uZyB0csaw4budbmcgaOG7o3AgdG9rZW4uaXNBZG1pbiBjaMawYSDEkcaw4bujYyB0aGnhur90IGzhuq1wXG4gICAgICBpZiAodG9rZW4uZW1haWwgPT09ICd4bGFiLnJuZEBnbWFpbC5jb20nICYmIHRva2VuLmlzQWRtaW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnUmUtc2V0dGluZyBhZG1pbiByaWdodHMgZm9yJywgdG9rZW4uZW1haWwpO1xuICAgICAgICB0b2tlbi5pc0FkbWluID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ0pXVCB0b2tlbiBkYXRhIEZVTEw6JywgdG9rZW4pO1xuICAgICAgY29uc29sZS5sb2coJ0pXVCB0b2tlbiBkYXRhOicsIHtcbiAgICAgICAgaWQ6IHRva2VuLmlkLFxuICAgICAgICBuYW1lOiB0b2tlbi5uYW1lLFxuICAgICAgICBlbWFpbDogdG9rZW4uZW1haWwsXG4gICAgICAgIHBpY3R1cmU6IHRva2VuLnBpY3R1cmUsXG4gICAgICAgIGlzQWRtaW46IHRva2VuLmlzQWRtaW5cbiAgICAgIH0pO1xuXG4gICAgICBpZiAodHJpZ2dlciA9PT0gXCJ1cGRhdGVcIiAmJiBzZXNzaW9uKSB7XG4gICAgICAgIGlmIChzZXNzaW9uLm5hbWUpIHtcbiAgICAgICAgICB0b2tlbi5uYW1lID0gc2Vzc2lvbi5uYW1lO1xuICAgICAgICAgIHRva2VuLmN1c3RvbU5hbWUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXNzaW9uLnBob25lKSB0b2tlbi5waG9uZSA9IHNlc3Npb24ucGhvbmU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9LFxuICAgIGFzeW5jIHNpZ25Jbih7IHVzZXIsIGFjY291bnQsIHByb2ZpbGUsIGVtYWlsLCBjcmVkZW50aWFscyB9KSB7XG4gICAgICBjb25zb2xlLmxvZygnU2lnbiBpbiBjYWxsYmFjayBleGVjdXRlZCcsIHsgXG4gICAgICAgIHByb3ZpZGVyOiBhY2NvdW50Py5wcm92aWRlcixcbiAgICAgICAgcHJvZmlsZTogcHJvZmlsZSxcbiAgICAgICAgdXNlcjogdXNlclxuICAgICAgfSk7XG4gICAgICBpZiAoYWNjb3VudD8ucHJvdmlkZXIgPT09IFwiZ29vZ2xlXCIgJiYgcHJvZmlsZT8uZW1haWwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBhc3luYyByZWRpcmVjdCh7IHVybCwgYmFzZVVybCB9KSB7XG4gICAgICBjb25zb2xlLmxvZygnUmVkaXJlY3QgY2FsbGJhY2sgZXhlY3V0ZWQnLCB7IHVybCwgYmFzZVVybCB9KTtcbiAgICAgIFxuICAgICAgLy8gWOG7rSBsw70gY2h1eeG7g24gaMaw4bubbmcgc2F1IGtoaSDEkcSDbmcgbmjhuq1wXG4gICAgICBpZiAodXJsLnN0YXJ0c1dpdGgoYmFzZVVybCkpIHtcbiAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9hdXRoL3NpZ25pbicpIHx8IHVybC5pbmNsdWRlcygnL2FwaS9hdXRoL2NhbGxiYWNrJykpIHtcbiAgICAgICAgICByZXR1cm4gYCR7YmFzZVVybH0vYDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgfSBlbHNlIGlmICh1cmwuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgIHJldHVybiBgJHtiYXNlVXJsfSR7dXJsfWA7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVybDtcbiAgICB9LFxuICB9LFxuICBldmVudHM6IHtcbiAgICBhc3luYyBzaWduSW4obWVzc2FnZSkge1xuICAgICAgY29uc29sZS5sb2coJ1VzZXIgc2lnbmVkIGluIGV2ZW50JywgbWVzc2FnZSk7XG4gICAgfSxcbiAgICBhc3luYyBzaWduT3V0KG1lc3NhZ2UpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdVc2VyIHNpZ25lZCBvdXQgZXZlbnQnLCBtZXNzYWdlKTtcbiAgICB9LFxuICAgIGFzeW5jIHNlc3Npb24obWVzc2FnZSkge1xuICAgICAgY29uc29sZS5sb2coJ1Nlc3Npb24gYWNjZXNzZWQgZXZlbnQnLCBtZXNzYWdlKTtcbiAgICB9LFxuICB9LFxuICBkZWJ1ZzogREVCVUdfRU5BQkxFRCxcbiAgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQgfHwgXCJ2b1o3aWlTenZEckdqckcwbTBxa2t3NjBYa0FOc0FnOXhmL3JHaUE0YmZBPVwiLFxuICBzZXNzaW9uOiB7XG4gICAgc3RyYXRlZ3k6IFwiand0XCIgYXMgU2Vzc2lvblN0cmF0ZWd5LFxuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsIC8vIDMwIGRheXNcbiAgfSxcbiAgLy8gU+G7rWEgY+G6pXUgaMOsbmggY29va2llIMSR4buDIMSR4bqjbSBi4bqjbyBob+G6oXQgxJHhu5luZyDEkcO6bmcgduG7m2kgR29vZ2xlXG4gIGNvb2tpZXM6IHtcbiAgICBzZXNzaW9uVG9rZW46IHtcbiAgICAgIG5hbWU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGBfX1NlY3VyZS1uZXh0LWF1dGguc2Vzc2lvbi10b2tlbmAgOiBgbmV4dC1hdXRoLnNlc3Npb24tdG9rZW5gLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgc2FtZVNpdGU6IFwibGF4XCIsXG4gICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIixcbiAgICAgICAgbWF4QWdlOiAzMCAqIDI0ICogNjAgKiA2MCAvLyAzMCBkYXlzXG4gICAgICB9XG4gICAgfSxcbiAgICBjYWxsYmFja1VybDoge1xuICAgICAgbmFtZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gYF9fU2VjdXJlLW5leHQtYXV0aC5jYWxsYmFjay11cmxgIDogYG5leHQtYXV0aC5jYWxsYmFjay11cmxgLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBzYW1lU2l0ZTogXCJsYXhcIixcbiAgICAgICAgcGF0aDogXCIvXCIsXG4gICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLFxuICAgICAgfVxuICAgIH0sXG4gICAgY3NyZlRva2VuOiB7XG4gICAgICBuYW1lOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBgX19Ib3N0LW5leHQtYXV0aC5jc3JmLXRva2VuYCA6IGBuZXh0LWF1dGguY3NyZi10b2tlbmAsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICBzYW1lU2l0ZTogXCJsYXhcIixcbiAgICAgICAgcGF0aDogXCIvXCIsXG4gICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgand0OiB7XG4gICAgbWF4QWdlOiA2MCAqIDYwICogMjQgKiAzMCwgLy8gMzAgZGF5c1xuICB9XG59O1xuXG5jb25zdCBoYW5kbGVyID0gTmV4dEF1dGgoYXV0aE9wdGlvbnMpO1xuXG5leHBvcnQgeyBoYW5kbGVyIGFzIEdFVCwgaGFuZGxlciBhcyBQT1NUIH07ICJdLCJuYW1lcyI6WyJOZXh0QXV0aCIsIkdvb2dsZVByb3ZpZGVyIiwiTkVYVEFVVEhfVVJMIiwicHJvY2VzcyIsImVudiIsIkRFQlVHX0VOQUJMRUQiLCJhdXRoT3B0aW9ucyIsInByb3ZpZGVycyIsImNsaWVudElkIiwiR09PR0xFX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkdPT0dMRV9DTElFTlRfU0VDUkVUIiwiYXV0aG9yaXphdGlvbiIsInBhcmFtcyIsInByb21wdCIsImFjY2Vzc190eXBlIiwicmVzcG9uc2VfdHlwZSIsInNjb3BlIiwicHJvZmlsZSIsImNvbnNvbGUiLCJsb2ciLCJpZCIsInN1YiIsIm5hbWUiLCJlbWFpbCIsImltYWdlIiwicGljdHVyZSIsInBhZ2VzIiwic2lnbkluIiwiZXJyb3IiLCJzaWduT3V0IiwiY2FsbGJhY2tzIiwic2Vzc2lvbiIsInRva2VuIiwiSlNPTiIsInN0cmluZ2lmeSIsInVzZXIiLCJjdXN0b21OYW1lIiwicGhvbmUiLCJtZW1iZXJTaW5jZSIsImlzQWRtaW4iLCJCb29sZWFuIiwiand0IiwiYWNjb3VudCIsInRyaWdnZXIiLCJwcm92aWRlciIsInRvZGF5IiwiRGF0ZSIsIlN0cmluZyIsImdldERhdGUiLCJwYWRTdGFydCIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJ1bmRlZmluZWQiLCJjcmVkZW50aWFscyIsInJlZGlyZWN0IiwidXJsIiwiYmFzZVVybCIsInN0YXJ0c1dpdGgiLCJpbmNsdWRlcyIsImV2ZW50cyIsIm1lc3NhZ2UiLCJkZWJ1ZyIsInNlY3JldCIsIk5FWFRBVVRIX1NFQ1JFVCIsInN0cmF0ZWd5IiwibWF4QWdlIiwiY29va2llcyIsInNlc3Npb25Ub2tlbiIsIm9wdGlvbnMiLCJodHRwT25seSIsInNhbWVTaXRlIiwicGF0aCIsInNlY3VyZSIsImNhbGxiYWNrVXJsIiwiY3NyZlRva2VuIiwiaGFuZGxlciIsIkdFVCIsIlBPU1QiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/[...nextauth]/route.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/oauth","vendor-chunks/@panva","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/oidc-token-hash","vendor-chunks/preact","vendor-chunks/object-hash","vendor-chunks/lru-cache","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=C%3A%5CVF%5CXLab_Web%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CVF%5CXLab_Web&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();