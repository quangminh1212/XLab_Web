@tailwind base;
@tailwind components;
@tailwind utilities;

/* Optimize image loading */
img {
  content-visibility: auto;
  contain-intrinsic-size: 1px 300px;
}

/* Optimize Largest Contentful Paint */
.hero-section, 
.featured-section, 
main > div:first-child {
  content-visibility: auto;
  contain-intrinsic-size: 1px 800px;
}

/* Improve animation performance */
.motion-safe\:animate-fade, 
.motion-safe\:animate-scale, 
.motion-safe\:animate-slide {
  will-change: transform, opacity;
  backface-visibility: hidden;
}

/* Efficient loading transitions */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Prevent layout shifts */
img, video, iframe {
  aspect-ratio: attr(width) / attr(height);
}

/* Enable smooth scrolling only after page is loaded */
.js-focus-visible :focus:not(.focus-visible) {
  outline: none;
}

/* Style text better */
@layer base {
  body {
    @apply text-gray-900 antialiased;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-medium leading-tight tracking-tight;
  }
  
  h1 {
    @apply text-3xl md:text-4xl lg:text-5xl;
  }
  
  h2 {
    @apply text-2xl md:text-3xl lg:text-4xl;
  }
  
  h3 {
    @apply text-xl md:text-2xl lg:text-3xl;
  }
  
  /* Improve link appearance */
  a:not([class]) {
    @apply text-primary-600 hover:text-primary-800 underline;
    text-underline-offset: 2px;
  }
  
  /* Improve button appearance */
  button, 
  [type='button'], 
  [type='reset'], 
  [type='submit'] {
    @apply transition-colors duration-200;
  }
}

/* Loading spinner animation */
@keyframes loading {
  0% {
    transform: translateX(-100%);
  }
  50% {
    transform: translateX(100%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.loading-bar {
  animation: loading 1.5s infinite ease-in-out;
}

/* Content fade-in animation for page transitions */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

main {
  animation: fadeInUp 0.5s ease-out;
}

/* Fix layout shifts by reserving space for dynamic content */
.reserve-height {
  min-height: var(--reserved-height, auto);
}

/* Fix font display during loading */
@layer utilities {
  .text-rendering-auto {
    text-rendering: auto;
  }
  
  .text-rendering-optimizespeed {
    text-rendering: optimizeSpeed;
  }
  
  .text-rendering-optimizelegibility {
    text-rendering: optimizeLegibility;
  }
  
  .text-rendering-geometricprecision {
    text-rendering: geometricPrecision;
  }
}

/* Add responsive containers for better content display */
.container-sm {
  @apply max-w-screen-sm mx-auto px-4;
}

.container-md {
  @apply max-w-screen-md mx-auto px-4;
}

.container-lg {
  @apply max-w-screen-lg mx-auto px-4;
}

.container-xl {
  @apply max-w-screen-xl mx-auto px-4;
}

/* Fix CLS issues for images with aspect ratio */
.aspect-video {
  @apply relative pb-[56.25%]; /* 16:9 aspect ratio */
}

.aspect-video > * {
  @apply absolute inset-0 w-full h-full;
}

.aspect-square {
  @apply relative pb-[100%]; /* 1:1 aspect ratio */
}

.aspect-square > * {
  @apply absolute inset-0 w-full h-full;
}

@layer base {
  html {
    scroll-behavior: smooth;
  }
}

@layer components {
  .container {
    @apply mx-auto max-w-7xl px-4 sm:px-6 lg:px-8;
  }
  
  .btn {
    @apply inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none;
  }
  
  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-500;
  }
  
  .btn-secondary {
    @apply bg-secondary-600 text-white hover:bg-secondary-700 focus-visible:ring-secondary-500;
  }
} 